## 初识HTTP

TCP/IP协议按层次分为**应用层、传输层、网络层、数据链路层**

* **应用层**：决定了向用户提供应用服务时通信的行为，HTTP就处于该层。
* **传输层**：对于上层应用层，传输层提供了处于网络连接中的两台计算机之前的数据传输
    * 在传输层有两个性质不同的协议
      1. TCP（Transmission Control Protocol）传输控制协议
      2. UDP（User Data Protocol）用户数据报协议
      
* **网络层**：处理网络上流动的数据包，该层规定通过什么样的路径到达对方的计算机，将数据传给对方
* **数据链路层（网络接口层）**：处理连接网络的硬件部分

TCP/IP通信传输流

* 客户端 -> 服务器

    应用层 -> 传输层 -> 网络层 -> 链路层 --------> 链路层 -> 网络层 -> 传输层 -> 应用层

  *相反也是一样的*

与HTTP关系密切的TCP IP DNS
  IP（Internet Protocol）网际协议，位于网络层
  TCP协议位于传输层
    握手过程使用了TCP的标记 -----SYN和ACK
    三次握手
      
      发送端 ----->(SYN)接收端    
      发送端 <-----(SYN/ACK)接收端
      发送端 ----->(ACK)接收端
  负责域名解析的DNS，位于应用层，提供了域名到IP地址之间的解析服务
  
#### HTTP与其他协议的关系
![HTTP与其他协议关系](www.dapanpro.com)

#### URL 和 URI
* URI(统一资源标识符)
	1. Unifrom：统一的格式方便处理不同类型的资源
	2. Resource：资源的定义就是“可标识的任何东西“，除了文档文件、图片或服务等能够区别于其他类型的，都可作为资源。
	3. Identifier：可标识的对象，也称为标识符
	
	综上所述，URI就是由某个协议方案表示的资源的定位标识符，协议方案是指访问资源所使用的协议类型名称
	
	使用HTTP协议时，协议方案就是http，还有ftp、file等
	
	URI用字符串标识某一互联网资源，URL标识资源的地址。URL是URI的子集
	
	**URI格式**
	
	表示指定的URI，要使用涵盖全部必要信息的绝对URI、绝对URL以及相对URL。相对URL是指从浏览器中基本URI处指定的URL，形如 */images/test.jpg*
	
	绝对URI格式：http://user:pwd@www.example.com:80/dir/index.html?uid=1#ch1
	
	RFC(Request for Comments, 征求修正意见书) ====> 用来制定HTTP协议技术标准的文档
* URL(统一资源定位符) 

## 简单的HTTP协议

#### HTTP协议用户客户端和服务器端之间的通信

请求访问文本或图像等资源的一端称为客户端，而提供资源响应的为服务器端

**请求报文**是由*请求方法*、*请求URI*、*协议版本*、*可选的请求首部字段*、*内容实体*构成

**响应报文**是由*协议版本*、*状态码*、*用以解释状态码的原因短语*、*可选的响应首部字段*、*实体主体*构成

HTTP是**无状态**协议 

HTTP协议方法：

* GET
* POST
* PUT（传输文件）
* HEAD（获得报文首部，用于确认URI有效性和资源更新的时间）
* DELETE（删除文件）
* OPTIONS（询问查询的方法）
* TRACE（追踪路径）
* CONNECT（用隧道协议连接代理）

使用方法下达命令

* 向请求URI指定的资源发送请求报文时，采用称为方法的命令
* 方法的作用是可以指定请求的资源按照期望产生某种行为

持久连接节省通信量

* 持久连接
	1. 特点：只要任意一端没有明确提出断开连接，则保持TCP连接状态
* 管线化： 不用等待响应亦可直接发送下一个请求  

使用Cookie的状态管理

##第三章   HTTP报文内的HTTP信息
HTTP报文：

* 定义：用于HTTP协议交互的信息
* 请求报文：客户端的HTTP报文
* 响应报文：服务器端的HTTP报文
* 通常分为报文首部和报文主体，两者由最初出现的空行来划分。通常，并不一定有报文主体